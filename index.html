<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mindsense AI</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<!-- LEFT CONTROL PANEL -->
<div class="left-controls">
  <button id="logoutBtn" class="logout-btn">Logout</button>
  <img src="threeline.png" id="menuBtn" class="menu-btn">
</div>

<!-- Sidebar -->
<div id="sidebar" class="sidebar">
  <a href="about.html">About Us</a>
  <a href="#">Contact</a>
  <a href="#">Help</a>
</div>

<!-- Glass Background -->
<div class="glass-bg"></div>

<!-- Theme Toggle (RIGHT SIDE) -->
<div class="theme-toggle">
  <input type="checkbox" id="themeSwitch">
  <label for="themeSwitch" class="toggle-label">ðŸŒ™</label>
</div>

<!-- Header -->
<header class="app-header">
  <h2>Mindsense AI</h2>
  <p>Developed by Abhay Gupta, Saksham Gupta</p>
</header>

<!-- Chat Container -->
<div class="chat-container" id="chat-container"></div>

<!-- Input Area -->
<div class="input-area">
  <input type="text" id="prompt" placeholder="Whose mind you want to read ðŸ¤”?" autofocus>
  <button id="submit">Send</button>
</div>

<!-- FIREBASE AUTH -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyDhAc3cpeV_6s29JqGjDpx00b7N1MwDE-0",
  authDomain: "senten-ai.firebaseapp.com",
  projectId: "senten-ai",
  appId: "1:691827681786:web:4153d974d7ee3a743b5c43"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

// Protect page
onAuthStateChanged(auth, (user) => {
  if (!user) window.location.href = "login.html";
});

// Logout
document.getElementById("logoutBtn").onclick = () => {
  signOut(auth).then(() => window.location.href = "login.html");
};
</script>

<!-- Sidebar Toggle -->
<script>
const menuBtn = document.getElementById("menuBtn");
const sidebar = document.getElementById("sidebar");

menuBtn.onclick = () => {
  sidebar.classList.toggle("open");
};
</script>

<!-- Chat Logic -->
<script src="script.js"></script>

</body>
</html>
